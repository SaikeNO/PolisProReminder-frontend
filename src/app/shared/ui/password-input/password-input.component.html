<mat-form-field class="full-width">
  <mat-label>{{ label ? label : "Hasło" }}</mat-label>
  <input matInput [type]="isPasswordHidden ? 'password' : 'text'" [formControl]="control" />
  <button
    mat-icon-button
    matSuffix
    (click)="isPasswordHidden = !isPasswordHidden"
    [attr.aria-label]="'Ukryj hasło'"
    [attr.aria-pressed]="isPasswordHidden"
  >
    <mat-icon>{{ isPasswordHidden ? "visibility_off" : "visibility" }}</mat-icon>
  </button>
  @if (control.hasError("minlength")) {
    <mat-error>Hasło musi mieć co najmniej 6 znaków.</mat-error>
  }
  @if (control.hasError("passwordsMismatch")) {
    <mat-error>Hasła muszą się zgadzać</mat-error>
  }
  @if (control.hasError("required")) {
    <mat-error>Hasło jest wymagane</mat-error>
  }
</mat-form-field>
